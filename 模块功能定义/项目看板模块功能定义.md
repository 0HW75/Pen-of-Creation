# 项目看板模块功能定义

## 1. 模块概述

项目看板模块是AI小说创作工具“创世之笔”的核心功能之一，为用户提供项目的全局视图和管理界面。该模块旨在帮助用户快速了解项目状态、管理项目信息，并通过数据可视化直观展示项目进展。

## 2. 核心功能

### 2.1 项目总览

- **多视图模式**：
  - **看板视图**：卡片式布局，展示项目的基本信息和状态
  - **时间线视图**：以时间轴形式展示项目的创作进度和重要节点
  - **关系图视图**：可视化展示项目内各元素（角色、地点、情节）之间的关联

- **项目筛选**：
  - 支持按状态（进行中/已完成/暂停）筛选
  - 支持按类型（玄幻/言情/悬疑等）筛选
  - 支持按创建时间/更新时间排序

- **快速操作**：
  - 一键进入项目编辑界面
  - 一键导出项目
  - 一键删除项目（需确认）

### 2.2 项目信息管理

- **基本信息**：
  - 作品名、笔名、作品类型、目标读者
  - 核心主题、一句话梗概
  - 创建时间、更新时间

- **多维度分类**：
  - **类型分类**：玄幻/言情/悬疑/科幻等
  - **状态分类**：进行中/已完成/暂停
  - **标签管理**：自定义标签，如“重点项目”、“挑战”等
  - **目标字数**：设定每日/总目标字数
  - **完成度**：自动计算并显示项目完成度

- **信息编辑**：
  - 支持实时编辑项目信息
  - 支持批量修改项目属性
  - 支持信息变更历史记录

### 2.3 项目统计分析

- **创作统计**：
  - 已写字数、日均字数、高产时段
  - 创作天数、连续创作天数
  - 章节数量、场景数量

- **设定统计**：
  - 角色数量、地点数量、物品数量、势力数量
  - 设定密度分析（各设定元素使用频率）

- **进度统计**：
  - 完成度百分比
  - 距离目标字数的差距
  - 预计完成时间

- **数据可视化**：
  - 字数增长趋势图
  - 创作时间分布图
  - 设定元素关系网络图

## 3. 界面设计

### 3.1 整体布局

- **顶部导航栏**：
  - 模块标题：项目看板
  - 操作按钮：新建项目、导入项目
  - 视图切换：看板/时间线/关系图

- **左侧边栏**：
  - 筛选条件：状态、类型、标签
  - 排序选项：创建时间、更新时间、完成度

- **主内容区**：
  - 项目卡片列表（看板视图）
  - 时间轴（时间线视图）
  - 关系网络图（关系图视图）

- **右侧边栏**：
  - 统计概览：总项目数、进行中项目数、已完成项目数
  - 快捷操作：最近访问项目、常用项目

### 3.2 核心组件

- **项目卡片**：
  - 卡片头部：项目标题、状态标签、完成度进度条
  - 卡片内容：一句话梗概、核心主题、字数统计
  - 卡片底部：操作按钮（编辑、进入、导出、删除）

- **时间轴组件**：
  - 时间节点：创建项目、完成章节、修改设定等
  - 节点详情：显示具体操作内容和时间
  - 交互功能：点击节点查看详细信息

- **关系网络图**：
  - 节点：项目内的角色、地点、物品、势力
  - 连线：表示节点之间的关系
  - 交互功能：拖拽节点、点击查看详情、缩放视图

- **统计图表**：
  - 折线图：字数增长趋势
  - 饼图：项目类型分布
  - 柱状图：创作时间分布

## 4. 技术实现

### 4.1 前端实现

- **技术栈**：React + Ant Design + ECharts
- **核心组件**：
  - Ant Design的Card、Tabs、Statistic组件构建界面
  - ECharts实现数据可视化图表
  - React-DnD实现拖拽功能

- **交互逻辑**：
  - 响应式设计，适配不同屏幕尺寸
  - 实时数据更新，无需刷新页面
  - 平滑的视图切换动画

### 4.2 后端实现

- **技术栈**：Python + Flask + SQLite
- **核心功能**：
  - 项目数据的CRUD操作
  - 统计数据的SQL查询
  - 关系图数据的生成算法

- **API设计**：
  - `GET /api/projects`：获取项目列表
  - `GET /api/projects/<id>/stats`：获取项目统计数据
  - `GET /api/projects/<id>/relations`：获取项目关系数据

### 4.3 数据结构

- **项目表**：
  | 字段名 | 数据类型 | 描述 |
  |-------|---------|------|
  | id | INTEGER | 项目ID |
  | title | VARCHAR(255) | 作品名 |
  | pen_name | VARCHAR(255) | 笔名 |
  | genre | VARCHAR(100) | 作品类型 |
  | status | VARCHAR(50) | 状态 |
  | tags | TEXT | 标签（JSON格式） |
  | daily_word_goal | INTEGER | 每日目标字数 |
  | total_word_goal | INTEGER | 总目标字数 |
  | word_count | INTEGER | 已写字数 |
  | created_at | TIMESTAMP | 创建时间 |
  | updated_at | TIMESTAMP | 更新时间 |

- **项目统计表**：
  | 字段名 | 数据类型 | 描述 |
  |-------|---------|------|
  | id | INTEGER | 统计ID |
  | project_id | INTEGER | 项目ID |
  | character_count | INTEGER | 角色数量 |
  | location_count | INTEGER | 地点数量 |
  | item_count | INTEGER | 物品数量 |
  | faction_count | INTEGER | 势力数量 |
  | chapter_count | INTEGER | 章节数量 |
  | scene_count | INTEGER | 场景数量 |
  | completion_rate | REAL | 完成度百分比 |
  | updated_at | TIMESTAMP | 更新时间 |

## 5. 用户流程

### 5.1 进入项目看板

1. 用户打开“创世之笔”工具
2. 系统默认进入项目看板模块
3. 显示所有项目的看板视图

### 5.2 查看项目详情

1. 用户在项目看板中点击某个项目卡片
2. 系统显示项目详情侧边栏
3. 用户查看项目的详细信息和统计数据

### 5.3 管理项目信息

1. 用户点击项目卡片上的“编辑”按钮
2. 系统弹出项目信息编辑表单
3. 用户修改项目信息
4. 用户点击“保存”按钮
5. 系统更新项目信息并刷新界面

### 5.4 切换视图模式

1. 用户点击顶部导航栏的视图切换按钮
2. 系统切换到对应的视图模式（看板/时间线/关系图）
3. 显示对应视图的数据和界面

## 6. 功能价值

- **全局视角**：为用户提供项目的全局视图，方便管理多个项目
- **数据驱动**：通过数据可视化帮助用户了解项目进展和状态
- **高效管理**：提供快速操作和筛选功能，提高项目管理效率
- **决策支持**：基于统计数据为用户提供创作决策支持

## 7. 未来扩展

- **项目模板**：支持创建和使用项目模板
- **项目协作**：支持多用户协作编辑项目（未来版本）
- **项目分享**：支持生成项目预览链接分享给他人
- **AI项目分析**：使用AI分析项目潜力和改进方向

项目看板模块将成为用户管理创作项目的核心工具，通过直观的界面和强大的功能，帮助用户更好地组织和追踪创作进度。