# Pen-of-Creation

## 项目介绍

Pen-of-Creation是一个基于AI的小说编辑器，旨在帮助作家更高效地创作小说。它提供了一系列智能工具和功能，从故事大纲生成到章节细化，从角色设定到情节分析，全方位辅助小说创作过程。

**版本**: 0.1

## 功能特性

### 核心模块

#### 📋 故事蓝图系统
- **智能大纲生成**: 基于项目信息自动生成详细故事大纲
- **卷纲分解**: 将大纲分解为合理的卷纲结构，支持手动编辑
- **章纲细化**: 将卷纲分解为详细的章纲，支持分批生成
- **大纲架构师**: 多种风格的故事大纲架构师，专为男频爽文优化
- **版本管理**: 自动管理大纲、卷纲、章纲的版本
- **数据库持久化**: 所有大纲数据自动保存到数据库
- **流式输出**: 实时显示AI生成过程，提升用户体验

#### 📝 智能写作工坊
- **AI辅助写作**: 提供灵感和建议，帮助克服写作障碍
- **内容生成**: 根据设定自动生成章节内容
- **风格分析**: 分析作品风格，提供一致性建议

#### 🗺️ 创作导航
- **可视化故事结构**: 直观展示故事脉络和结构
- **情节地图**: 构建和管理情节发展
- **章节关系图**: 展示章节之间的联系

#### 🧠 创作智库
- **角色管理**: 创建和管理角色设定
- **地点管理**: 构建和管理故事地点
- **物品管理**: 管理故事中的关键物品
- **派系管理**: 管理故事中的派系和组织
- **关系管理**: 维护角色之间的关系网络

#### 📊 作品分析
- **结构分析**: 分析作品结构和节奏
- **风格分析**: 评估作品风格一致性
- **长度分析**: 分析章节长度分布
- **情感曲线**: 分析故事情感变化

#### 📄 作品导出
- **多种格式支持**: 支持导出为多种文件格式
- **内容整理**: 自动整理和格式化内容

#### 🔄 实时一致性维护
- **情节一致性检查**: 确保故事情节连贯一致
- **角色一致性检查**: 确保角色行为和设定一致
- **世界设定一致性**: 确保世界设定的一致性

### 高级特性

- **⚙️ 可配置的AI提示词**: 自定义AI生成策略
- **🔧 批量生成**: 支持大批量章节的分批生成，避免token限制
- **🔗 上下文传递**: 确保分批生成的章节保持情节连贯
- **✏️ 手动编辑**: 支持对所有层级的大纲进行手动修改
- **📈 进度跟踪**: 实时显示生成进度和章节数量
- **🌐 多AI提供商支持**: 支持OpenAI、Anthropic、Google、Azure等多种AI服务

## 技术栈

### 前端
- React
- Vite
- JavaScript
- CSS

### 后端
- Python
- Flask
- SQLite
- SQLAlchemy

### AI服务
- OpenAI API
- Anthropic API
- Google AI API
- Azure OpenAI API
- SiliconFlow API

## 快速开始

### 前端
```bash
cd frontend
npm install
npm run dev
```

### 后端
```bash
cd backend
pip install -r requirements.txt
python run.py
```

## 项目结构

```
.
├── backend/             # 后端代码
│   ├── app/             # 应用代码
│   │   ├── api/         # API路由
│   │   ├── config/       # 配置文件
│   │   ├── services/     # 服务层
│   │   └── models.py     # 数据模型
│   ├── requirements.txt  # 依赖文件
│   └── run.py            # 启动文件
├── frontend/            # 前端代码
│   ├── public/           # 静态资源
│   ├── src/              # 源代码
│   │   ├── assets/       # 资源文件
│   │   ├── components/   # 组件
│   │   ├── pages/        # 页面
│   │   ├── services/     # 服务
│   │   ├── App.jsx       # 应用组件
│   │   └── main.jsx      # 入口文件
│   ├── package.json      # 依赖配置
│   └── vite.config.js    # Vite配置
├── 模块功能定义/        # 功能定义文档
├── 错误预防/            # 错误预防文档
├── .gitignore           # Git忽略文件
└── README.md            # 项目说明
```

## 功能模块详解

### 故事蓝图模块
- **智能大纲生成**: 使用AI根据项目信息生成详细的故事大纲
- **卷纲分解**: 将大纲分解为3-5个卷，每个卷包含核心冲突和主要内容
- **章纲细化**: 将卷纲分解为5-8个章，每个章包含核心事件和情绪目标
- **大纲架构师**: 提供多种风格的大纲架构师，包括男频爽文专用架构师

### 创作智库模块
- **角色管理**: 创建和管理角色的详细设定，包括背景、性格、关系等
- **地点管理**: 构建和管理故事中的地点，包括环境描述、重要性等
- **物品管理**: 管理故事中的关键物品，包括功能、历史等
- **派系管理**: 管理故事中的派系和组织，包括结构、目标等

### 创作导航模块
- **可视化故事结构**: 使用图表展示故事的整体结构
- **情节地图**: 构建和管理情节的发展和分支
- **章节关系图**: 展示章节之间的逻辑关系和联系

### 作品分析模块
- **结构分析**: 分析作品的结构是否合理，节奏是否恰当
- **风格分析**: 评估作品的写作风格是否一致
- **长度分析**: 分析章节长度的分布是否合理
- **情感曲线**: 分析故事的情感变化是否符合预期

### 智能写作工坊模块
- **AI辅助写作**: 提供写作建议和灵感，帮助克服写作障碍
- **内容生成**: 根据设定自动生成章节内容的草稿
- **风格模仿**: 模仿指定的写作风格生成内容

### 实时一致性维护模块
- **情节一致性检查**: 确保故事情节的发展连贯一致
- **角色一致性检查**: 确保角色的行为和设定保持一致
- **世界设定一致性**: 确保世界设定的规则和细节保持一致

## 配置说明

### AI配置
- 支持多种AI服务提供商
- 可在后端配置文件中设置API密钥和模型参数
- 前端可选择不同的AI架构师风格

### 项目配置
- 支持自定义项目设置
- 可配置导出格式和选项
- 可设置创作目标和进度跟踪

## 开发文档

- **功能定义文档**: 详细描述每个模块的功能和实现
- **开发计划**: 项目的开发进度和计划
- **未来功能规划**: 计划中的新功能和改进
- **错误预防文档**: 常见错误和解决方案

## 未来规划

### 版本 0.2 计划
- [ ] 增强AI写作能力，支持更多写作风格
- [ ] 添加更多导出格式，支持专业出版格式
- [ ] 实现多语言支持
- [ ] 开发移动应用，支持移动端写作

### 版本 0.3 计划
- [ ] 添加协作功能，支持多人共同创作
- [ ] 实现更高级的故事分析算法
- [ ] 添加智能编辑建议功能
- [ ] 开发插件系统，支持扩展功能

## 贡献指南

欢迎贡献代码和提出建议！

1. Fork 项目仓库
2. 创建特性分支 (`git checkout -b feature/amazing-feature`)
3. 提交更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 打开 Pull Request

## 许可证

MIT License

## 联系方式

如有问题或建议，请通过以下方式联系我们：

- GitHub Issues: 在项目仓库中提交Issue
- 邮件: 请在项目中查找联系信息

---

**Pen-of-Creation - 释放你的创作潜能** 🚀